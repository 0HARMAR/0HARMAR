# x86_64 架构主要寄存器详解

---

## 1. 通用寄存器（General-Purpose Registers）
共16个64位寄存器，支持低32/16/8位访问：

| 64位寄存器 | 低32位      | 低16位 | 低8位（高/低）   | 主要用途                     |
|------------|-------------|--------|------------------|------------------------------|
| RAX        | EAX         | AX     | AH (高8) / AL    | 累加器，函数返回值           |
| RBX        | EBX         | BX     | BH / BL          | 基址寄存器，数据存储         |
| RCX        | ECX         | CX     | CH / CL          | 计数器（循环/字符串操作）    |
| RDX        | EDX         | DX     | DH / DL          | 数据寄存器（乘除运算辅助）   |
| RSI        | ESI         | SI     | SIL (低8位)      | 源索引（内存操作源指针）     |
| RDI        | EDI         | DI     | DIL              | 目的索引（内存操作目标指针） |
| RBP        | EBP         | BP     | BPL              | 栈帧基址指针                 |
| RSP        | ESP         | SP     | SPL              | 栈顶指针                     |
| R8-R15     | R8D-R15D    | R8W-R15W | R8B-R15B       | 扩展参数传递和临时存储       |

---

## 2. 段寄存器（Segment Registers）
16位寄存器，64位模式下功能弱化：
- **CS**: 代码段（指令执行位置）
- **DS**: 数据段（默认数据访问）
- **SS**: 栈段（栈操作）
- **ES/FS/GS**: 附加段（特殊用途，如FS用于线程本地存储）

---

## 3. 指令指针寄存器（RIP）
- **RIP** (64位): 指向下一条要执行的指令地址，不可直接修改。

---

## 4. 标志寄存器（RFLAGS）
64位寄存器，关键标志位：
```plaintext
CF (Carry Flag)     : 无符号运算溢出时置1
ZF (Zero Flag)      : 结果为0时置1
SF (Sign Flag)      : 结果为负时置1
OF (Overflow Flag)  : 有符号运算溢出时置1
IF (Interrupt Flag) : 控制是否响应可屏蔽中断
TF (Trap Flag)      : 单步调试模式启用