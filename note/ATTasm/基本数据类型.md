# ATT 汇编（GAS）中的数据类型

在 ATT 汇编中，数据类型主要通过**数据大小**和**解释方式**来区分。虽然汇编语言不强制类型检查，但程序员需显式指定操作数大小。以下是主要数据类型和用法：

---

## 目录
1. [基础整数类型](#1-基础整数类型)
2. [浮点数类型](#2-浮点数类型)
3. [字符串与字符](#3-字符串与字符)
4. [特殊类型](#4-特殊类型)
5. [结构体与复合类型](#5-结构体与复合类型)
6. [SIMD 向量类型](#6-simd-向量类型sseavx)
7. [注意事项](#关键注意事项)

---

## 1. 基础整数类型

| 伪指令   | 大小（字节） | 位数  | 说明                     | 示例指令        |
|----------|--------------|-------|--------------------------|-----------------|
| `.byte`  | 1            | 8 位  | 单字节数据（字符、小整数） | `movb $5, %al`  |
| `.word`  | 2            | 16 位 | 双字节数据（短整型）       | `movw $100, %ax`|
| `.long`  | 4            | 32 位 | 四字节数据（标准整型）     | `movl $0x1234, %eax`|
| `.quad`  | 8            | 64 位 | 八字节数据（长整型）       | `movq $0xabcd, %rax`|

---

## 2. 浮点数类型

| 伪指令     | 大小（字节） | 说明                          | 示例指令          |
|------------|--------------|-------------------------------|-------------------|
| `.float`   | 4            | 单精度浮点数（32位 IEEE 754） | `flds float_var`  |
| `.double`  | 8            | 双精度浮点数（64位 IEEE 754） | `fldl double_var` |
| `.single`  | 4            | 同 `.float`                   | —                 |
| `.quad`    | 8            | 可与双精度浮点共用（需上下文）| `movq %xmm0, var` |

---

## 3. 字符串与字符

| 伪指令     | 说明                                   | 示例                          |
|------------|----------------------------------------|-------------------------------|
| `.ascii`   | 定义非空终止的 ASCII 字符串            | `.ascii "Hello"`             |
| `.asciz`   | 定义以 `\0` 结尾的 C 风格字符串        | `.asciz "World\0"`           |
| `.string`  | 等同于 `.asciz`（自动添加空终止符）     | `.string "Assembly"`         |

---

## 4. 特殊类型

| 伪指令       | 说明                                  | 用途示例                     |
|--------------|---------------------------------------|------------------------------|
| `.rept`      | 重复分配空间（如数组）                | `.rept 10 .byte 0x00 .endr`  |
| `.space`     | 分配未初始化空间（单位：字节）        | `.space 16`（分配 16 字节）  |
| `.align`     | 对齐内存地址（优化访问速度）          | `.align 4`（按 4 字节对齐）  |

---

## 5. 结构体与复合类型

汇编中不直接支持结构体，但可通过标签和偏移量手动模拟：

```asm
struct_example:
    .int 123       # 4 字节整型字段
    .byte 'A'      # 1 字节字符字段
    .quad 0x1234   # 8 字节长整型字段
```