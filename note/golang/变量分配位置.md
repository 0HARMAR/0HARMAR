**Go编译器会根据变量的逃逸分析（Escape Analysis）来决定变量是放在栈上还是堆上。逃逸分析的目的是判断一个变量是否会在函数外部被使用，如果是，就会将该变量分配到堆上，否则会将它分配在栈上。**

# 示例
```go
package main

func main() {
    a := 10 // 通常分配在栈上
    b := &a // a 的地址被返回或保留在外部，导致 a 逃逸到堆上
    println(b)
}

func test() *int {
    x := 100 // 由于 x 的地址被返回，所以 x 会分配到堆上
    return &x
}
```